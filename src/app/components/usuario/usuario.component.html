<!-- Abrir Modal -->
<!-- <ng-template #content let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">USUARIO</h4>
		<button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>
	</div>
  <div class="modal-body">
    <div class="content-viewport">
        <div class="row">
          <div class="col-lg-12">
                <div class="item-wrapper py-2">
                  <form [formGroup] = "form" (ngSubmit)="Guardar()">
                    <div class="form-group">
                      <label for="nombre">Nombre</label>
                      <input type="text" class="form-control" id="nombre" placeholder="Ingresa tu nombre" formControlName="nombre"
                      [class.incorrect]="
                        this.form.get('nombre')?.invalid &&
                        this.form.get('nombre')?.touched
                      "[class.correct]="this.form.get('nombre')?.valid"/>
                      <div *ngIf="this.form.get('nombre')?.invalid == true">
                        <p class="text-danger">El nombre es requerido, debe tener menos de 50 caracteres y debe contener solamente letras</p>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="apellido">Apellido</label>
                      <input type="text" class="form-control" id="apellido" placeholder="Ingresa tu apellido" formControlName="apellido"
                      [class.incorrect]="
                        this.form.get('apellido')?.invalid &&
                        this.form.get('apellido')?.touched
                      "[class.correct]="this.form.get('apellido')?.valid"/>
                      <div *ngIf="this.form.get('apellido')?.invalid == true">
                        <p class="text-danger">El apellido ees requerido, debe tener menos de 50 caracteres y debe contener solamente letras</p>
                      </div>
                    </div>
                    <div class="form-group">
                      <label>Genero</label>
                      <select class="form-control form-select" formControlName="genero" [class.incorrect]="
                      this.form.get('genero')?.invalid &&
                      this.form.get('genero')?.touched
                    "[class.correct]="this.form.get('genero')?.valid">
                    <option select value="">Seleccione un Genero</option>
                        <option value="Masculino">
                          Masculino
                        </option>
                        <option value="Femenino">
                          Femenino
                        </option>
                      </select>
                      <div *ngIf="this.form.get('genero')?.invalid == true">
                        <p class="text-danger">El Genero es requerido</p>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="fechanacimiento">Fecha de Nacimiento</label>
                      <input type="date" class="form-control" id="fechanacimiento" formControlName="fechanacimiento"
                      [class.incorrect]="
                        this.form.get('fechanacimiento')?.invalid &&
                        this.form.get('fechanacimiento')?.touched
                      "[class.correct]="this.form.get('fechanacimiento')?.valid"/>
                      <div *ngIf="this.form.get('fechanacimiento')?.invalid == true">
                        <p class="text-danger">La fecha de nacimiento es requerida</p>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="nacionalidad">Nacionalidad</label>
                      <input type="text" class="form-control" id="nacionalidad" placeholder="Ingresa tu nacionalidad" formControlName="nacionalidad"
                      [class.incorrect]="
                        this.form.get('nacionalidad')?.invalid &&
                        this.form.get('nacionalidad')?.touched
                      "[class.correct]="this.form.get('nacionalidad')?.valid"/>
                      <div *ngIf="this.form.get('nacionalidad')?.invalid == true">
                        <p class="text-danger">La nacionalidad es requerida y debe tener menos de 50 caracteres</p>
                      </div>
                    </div>
                    <div class="form-group">
                        <label for="nombreUsuario">Nombre Usuario</label>
                        <input type="text" class="form-control" id="nombreUsuario" placeholder="Ingresa tu Nombre Usuario" formControlName="nombreUsuario" 
                        [class.incorrect]="
                          this.form.get('nombreUsuario')?.invalid &&
                          this.form.get('nombreUsuario')?.touched
                        "[class.correct]="this.form.get('nombreUsuario')?.valid"/>
                        <div *ngIf="this.form.get('nombreUsuario')?.invalid == true">
                          <p class="text-danger">El nombre usuario es requerido y debe tener menos de 50 caracteres</p>
                        </div>
                      </div>
                      <div class="form-group">
                        <label for="password">Contraseña</label>
                        <div class="form-control">
                          <div class="row">
                            <input matInput type="password" [type]="hide ? 'password':'text'" class="col-6" id="password" placeholder="Ingresa tu contraseña" formControlName="password"
                            [class.incorrect]="
                              this.form.get('password')?.invalid &&
                              this.form.get('password')?.touched
                            "[class.correct]="this.form.get('password')?.valid"/>
                            <span class="input-group-addon">-</span>
                            <img src="../assets/Admin/images/show.png" class="icon" ><i class="material-icons" matSuffix (click)="hide = !hide">
                              {{hide? 'mostrar':'ocultar'}}</i>
                          </div>
                        </div>
                        
                        
                          <div *ngIf="this.form.get('password')?.invalid == true">
                            <p class="text-danger">El password es requerida y debe tener menos de 50 caracteres</p>
                          </div>
                      </div>
                    
                      <div class="form-group">
                        <label for="fechaRegistro">Fecha de Registro</label>
                        <input type="date" class="form-control" id="fechaRegistro" formControlName="fechaRegistro"
                        [class.incorrect]="
                          this.form.get('fechaRegistro')?.invalid &&
                          this.form.get('fechaRegistro')?.touched
                        "[class.correct]="this.form.get('fechaRegistro')?.valid"/>
                        <div *ngIf="this.form.get('fechaRegistro')?.invalid == true">
                          <p class="text-danger">La fecha de registro es requerida</p>
                        </div>
                      </div>


                      <div class="form-group">
                        <label>Rol</label>
                        <select class="form-control" formControlName="RolId" [class.incorrect]="
                        this.form.get('RolId')?.invalid &&
                        this.form.get('RolId')?.touched
                      "[class.correct]="this.form.get('RolId')?.valid">
                          <ng-container>
                            <option select value="">Seleccione un Rol</option>
                            <option *ngFor="let rol of listaRol" value="{{ rol.id }}">{{rol.nombre}}</option>
                          </ng-container>
                        </select>
                        <div *ngIf="this.form.get('RolId')?.invalid == true">
                          <p class="text-danger">El rol es requerido</p>
                        </div>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-danger" (click)="modal.dismiss()">Cerrar</button>
                        <button class="btn btn-success" [disabled]="this.form.invalid" (click)="convenc('1')"
                        type="submit"
                        [class.invalidado]="this.form.invalid"
                        [class.validado]="this.form.valid" (click)="modal.close()">Guardar</button>
                      </div>
                  </form>
                </div> 
          </div>
        </div>
      </div>
</div>
</ng-template> -->
<!-- cerrar modal  -->

<!-- <div class="content-wrapper">
  <div class="row">
      <div class="col-sm-11 grid-margin stretch-card">
          <div class="card">
              <div class="card-body">
                  <div class="row py-4">
                      <div class="col-lg-8">
                          <div class="">
                              <h4>USUARIOS</h4>
                          </div>
                      </div>
                      <div class="col-lg-4">
                          <div class="card-description text-right">
                              <button type="button" class="btn btn-info has-icon btn-rounded" (click)="Guardarinstruct(content)">
                                  <i class="mdi mdi-plus-circle"></i>AGREGAR</button>
                          </div>
                      </div>
                  </div><br>
                  <div class="table-responsive">
                      <table class="table info-table table-striped">
                          <thead>
                              <tr>
                                  <th>#</th>
                                  <th>NOMBRE</th>
                                  <th>APELLIDO</th>
                                  <th>GENERO</th>
                                  <th>FECHA_NACIMIENTO</th>
                                  <th>NACIONALIDAD</th>
                                  <th>NOMBRE USUARIO</th>
                                  <th>PASSWORD</th>
                                  <th>FECHA REGISTRO</th>
                                  <th>ROL</th>
                                  <th>ESTADO</th>
                                  <th></th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr *ngFor="let usuario of listaUsuario; let i=index;">
                                <ng-container>
                                  <td scope="row">{{i+1}}</td>
                                  <td>{{ usuario.persona.nombre }}</td>
                                  <td>{{ usuario.persona.apellido }}</td>
                                  <td>{{ usuario.persona.genero }}</td>
                                  <td>{{ usuario.persona.fechaNacimiento | date: 'dd/MM/yyyy'}}</td>
                                  <td>{{ usuario.persona.nacionalidad }}</td>
                                  <td>{{ usuario.nombreUsuario }}</td>
                                  <td>{{ usuario.password }}</td>
                                  <td>{{ usuario.fechaRegistro | date: 'dd/MM/yyyy'}}</td>
                                  <td>{{ usuario.rol.nombre }}</td>
                                  
                                  <td *ngIf="usuario.estado == 1">ACTIVO</td>
                                  <td *ngIf="usuario.estado == 0">INACTIVO</td>
                                  <td>
                                    <button type="button" (click)="SeleccionarUsuario(content,usuario)" class="btn btn-dark has-icon btn-rounded" style="margin: 10px" >
                                    <i class="mdi mdi-lead-pencil"></i>Modificar</button>
                                    <button type="button" (click)="CambiarEstado(usuario, 0)" class="btn btn-danger has-icon btn-rounded" *ngIf="usuario.estado == 1">
                                      <i class="mdi mdi-delete"></i>Eliminar</button>
                                    <button type="button" (click)="CambiarEstado(usuario, 1)" class="btn btn-success has-icon btn-rounded" *ngIf="usuario.estado == 0">
                                      <i class="mdi mdi-arrow-right-bold-circle"></i>Activar</button>
                                  </td>
                                </ng-container>
                                </tr>
                          </tbody>
                      </table>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div> -->

